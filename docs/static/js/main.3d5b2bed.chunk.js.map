{"version":3,"sources":["components/BookSearchForm.js","components/BookItem.js","components/CandidateBook.js","components/BookSelector.js","components/SelectedBook.js","components/TweetButton.js","App.js","index.js"],"names":["BookSearchForm","props","state","value","handleChange","bind","handleSubmit","event","this","setState","target","preventDefault","length","onCandidateBooksUpdate","fetch","encodeURIComponent","then","response","json","data","Form","className","onSubmit","InputGroup","FormControl","placeholder","onChange","Append","Button","variant","type","React","Component","BookItem","book","volumeInfo","industryIdentifiers","filter","v","match","reduce","v1","v2","identifier","src","imageLinks","smallThumbnail","title","authors","join","publisher","publishedDate","extractISBN","CandidateBook","handleClick","onClick","BookSelector","candidateBooks","books","items","map","i","ListGroup","Item","onSelect","SelectedBook","TweetButton","text","previewLink","url","Row","Col","href","block","App","selectedBook","handleCandidateBooksUpdate","handleBookSelect","Container","xs","md","lg","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3d5b2bed.chunk.js","sourcesContent":["import React from 'react';\nimport { Form, InputGroup, FormControl, Button } from 'react-bootstrap';\nimport { Search } from 'react-bootstrap-icons';\nimport './BookSearchForm.css';\n\nexport default class BookSearchForm extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {value: ''}\n    this.handleChange = this.handleChange.bind(this)\n    this.handleSubmit = this.handleSubmit.bind(this)\n  }\n\n  handleChange(event) {\n    this.setState({value: event.target.value})\n  }\n\n  handleSubmit(event) {\n    event.preventDefault()\n\n    if (this.state.value.length <= 0) {\n      this.props.onCandidateBooksUpdate(null)\n      return\n    }\n\n    fetch('https://www.googleapis.com/books/v1/volumes?q=' +\n          encodeURIComponent(this.state.value))\n      .then(response => response.json())\n      .then(data => this.props.onCandidateBooksUpdate(data))\n  }\n\n  render() {\n    return (\n      <Form className=\"book-search-form\" onSubmit={this.handleSubmit}>\n        <InputGroup className=\"mb-3\">\n          <FormControl placeholder=\"本を検索してツイートします\"\n                       value={this.state.value}\n                       onChange={this.handleChange} />\n          <InputGroup.Append>\n            <Button variant=\"primary\" type=\"submit\"><Search /></Button>\n          </InputGroup.Append>\n        </InputGroup>\n      </Form>\n    )\n  }\n}\n","import React from 'react';\r\nimport './BookItem.css';\r\n\r\nexport default class BookItem extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n\r\n  extractISBN(book) {\r\n    if (!book.volumeInfo.industryIdentifiers) {\r\n      return \"\"\r\n    }\r\n    return book.volumeInfo.industryIdentifiers\r\n      .filter(v => v.type.match(/isbn/i))\r\n      .reduce((v1, v2) => (v1.identifier.length > v2.identifier.length ? v1 : v2),\r\n              {identifier: \"\"})\r\n      .identifier\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.book) {\r\n      return null\r\n    }\r\n\r\n    const book = this.props.book\r\n    return (\r\n      <div className=\"book\">\r\n        <div className=\"book-img-container\">\r\n          <img src={(book.volumeInfo.imageLinks || {}).smallThumbnail} />\r\n        </div>\r\n        <div>\r\n          <span className=\"book-title\">{book.volumeInfo.title}</span>\r\n          <span className=\"book-authors\">{(book.volumeInfo.authors || []).join(', ')}</span>\r\n          <span className=\"book-publisher\">{book.volumeInfo.publisher}</span>\r\n          <span className=\"book-published-date\">{book.volumeInfo.publishedDate}</span>\r\n          <span className=\"book-isbn\">{this.extractISBN(book)}</span>\r\n\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport BookItem from './BookItem';\r\nimport './CandidateBook.css';\r\n\r\nexport default class CandidateBook extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.handleClick = this.handleClick.bind(this)\r\n  }\r\n\r\n  handleClick(event) {\r\n    this.props.onClick(this.props.book)\r\n  }\r\n\r\n  render() {\r\n    const book = this.props.book\r\n    return (\r\n      <div className=\"candidate-book\" onClick={this.handleClick}>\r\n        <BookItem book={this.props.book} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { ListGroup } from 'react-bootstrap';\r\nimport CandidateBook from './CandidateBook';\r\nimport './BookSelector.css';\r\n\r\nexport default class BookSelector extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n\r\n  render() {\r\n    if (this.props.candidateBooks.length <= 0) {\r\n      return null\r\n    }\r\n    const books = this.props.candidateBooks.items.map((book, i) => {\r\n      return (\r\n        <ListGroup.Item className=\"candidate-books-item\">\r\n          <CandidateBook book={book}\r\n                         onClick={this.props.onSelect} />\r\n        </ListGroup.Item>\r\n      )\r\n    })\r\n    return (\r\n      <ListGroup>\r\n        {books}\r\n      </ListGroup>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport BookItem from './BookItem';\r\nimport './SelectedBook.css';\r\n\r\nexport default class SelectedBook extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.book) {\r\n      return null\r\n    }\r\n\r\n    return (\r\n      <div className=\"selected-book\">\r\n        <BookItem book={this.props.book} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Row, Col, Button } from 'react-bootstrap';\r\nimport './TweetButton.css';\r\n\r\nconst HASH_TAG = 'よむよむ会'\r\nconst SERVICE_URL = 'https://yomuyomukai.tsujio.org'\r\n\r\nexport default class TweetButton extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.book) {\r\n      return null\r\n    }\r\n\r\n    const book = this.props.book\r\n    const text = `\"${book.volumeInfo.title}\",` +\r\n          ` ${(book.volumeInfo.authors || []).join(', ')},` +\r\n          ` ${book.volumeInfo.publisher},` +\r\n          ` ${book.volumeInfo.publishedDate}` +\r\n          ` ${book.volumeInfo.previewLink}` +\r\n          `\\n#${HASH_TAG} ${SERVICE_URL}`\r\n    const url = `http://twitter.com/share?url=${encodeURIComponent(text)}`\r\n\r\n    return (\r\n      <Row>\r\n        <Col>\r\n          <Button className=\"tweet-button\"\r\n                  variant=\"primary\"\r\n                  href={url}\r\n                  block\r\n                  target=\"_blank\">この本をツイートする</Button>\r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport BookSearchForm from './components/BookSearchForm';\nimport BookSelector from './components/BookSelector';\nimport SelectedBook from './components/SelectedBook';\nimport TweetButton from './components/TweetButton';\nimport './App.css';\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      candidateBooks: [],\n      selectedBook: null,\n    }\n    this.handleCandidateBooksUpdate = this.handleCandidateBooksUpdate.bind(this)\n    this.handleBookSelect = this.handleBookSelect.bind(this)\n  }\n\n  handleCandidateBooksUpdate(candidateBooks) {\n    if (!candidateBooks) {\n      this.setState({\n        candidateBooks: [],\n        selectedBook: null,\n      })\n    } else {\n      this.setState({\n        candidateBooks: candidateBooks,\n        selectedBook: null,\n      })\n    }\n  }\n\n  handleBookSelect(book) {\n    this.setState({\n      candidateBooks: [],\n      selectedBook: book,\n    })\n  }\n\n  render() {\n    return (\n      <Container>\n        <Row className=\"justify-content-center\">\n          <Col xs={12} md={10} lg={8}>\n            <div className=\"header\">\n              <h1>本をよむよむ会</h1>\n            </div>\n          </Col>\n        </Row>\n        <Row className=\"justify-content-center\">\n          <Col xs={12} md={10} lg={8}>\n            <BookSearchForm onCandidateBooksUpdate={this.handleCandidateBooksUpdate} />\n          </Col>\n        </Row>\n        <Row className=\"justify-content-center\">\n          <Col xs={12} md={10} lg={8}>\n            <BookSelector candidateBooks={this.state.candidateBooks}\n                          onSelect={this.handleBookSelect} />\n          </Col>\n        </Row>\n        <Row className=\"justify-content-center\">\n          <Col xs={12} md={10} lg={8}>\n            <SelectedBook book={this.state.selectedBook} />\n          </Col>\n        </Row>\n        <Row className=\"justify-content-center\">\n          <Col xs={12} md={8} lg={6}>\n            <TweetButton book={this.state.selectedBook} />\n          </Col>\n        </Row>\n      </Container>\n    )\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}