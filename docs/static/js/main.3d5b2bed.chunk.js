(this["webpackJsonpbook-tweet"]=this["webpackJsonpbook-tweet"]||[]).push([[0],{28:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(2),o=n(0),c=n.n(o),s=n(20),i=n.n(s),r=n(7),l=n(8),d=n(11),u=n(10),h=n(9),b=n(43),j=n(42),k=n(22),O=n(45),p=n(40),m=n(21),f=n(46),v=n(41),x=(n(28),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={value:""},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.state.value.length<=0?this.props.onCandidateBooksUpdate(null):fetch("https://www.googleapis.com/books/v1/volumes?q="+encodeURIComponent(this.state.value)).then((function(e){return e.json()})).then((function(e){return t.props.onCandidateBooksUpdate(e)}))}},{key:"render",value:function(){return Object(a.jsx)(O.a,{className:"book-search-form",onSubmit:this.handleSubmit,children:Object(a.jsxs)(p.a,{className:"mb-3",children:[Object(a.jsx)(m.a,{placeholder:"\u672c\u3092\u691c\u7d22\u3057\u3066\u30c4\u30a4\u30fc\u30c8\u3057\u307e\u3059",value:this.state.value,onChange:this.handleChange}),Object(a.jsx)(p.a.Append,{children:Object(a.jsx)(f.a,{variant:"primary",type:"submit",children:Object(a.jsx)(v.a,{})})})]})})}}]),n}(c.a.Component)),B=n(44),C=(n(32),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){return Object(r.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"extractISBN",value:function(e){return e.volumeInfo.industryIdentifiers?e.volumeInfo.industryIdentifiers.filter((function(e){return e.type.match(/isbn/i)})).reduce((function(e,t){return e.identifier.length>t.identifier.length?e:t}),{identifier:""}).identifier:""}},{key:"render",value:function(){if(!this.props.book)return null;var e=this.props.book;return Object(a.jsxs)("div",{className:"book",children:[Object(a.jsx)("div",{className:"book-img-container",children:Object(a.jsx)("img",{src:(e.volumeInfo.imageLinks||{}).smallThumbnail})}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:"book-title",children:e.volumeInfo.title}),Object(a.jsx)("span",{className:"book-authors",children:(e.volumeInfo.authors||[]).join(", ")}),Object(a.jsx)("span",{className:"book-publisher",children:e.volumeInfo.publisher}),Object(a.jsx)("span",{className:"book-published-date",children:e.volumeInfo.publishedDate}),Object(a.jsx)("span",{className:"book-isbn",children:this.extractISBN(e)})]})]})}}]),n}(c.a.Component)),y=(n(33),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).handleClick=a.handleClick.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"handleClick",value:function(e){this.props.onClick(this.props.book)}},{key:"render",value:function(){this.props.book;return Object(a.jsx)("div",{className:"candidate-book",onClick:this.handleClick,children:Object(a.jsx)(C,{book:this.props.book})})}}]),n}(c.a.Component)),g=(n(34),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){return Object(r.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){var e=this;if(this.props.candidateBooks.length<=0)return null;var t=this.props.candidateBooks.items.map((function(t,n){return Object(a.jsx)(B.a.Item,{className:"candidate-books-item",children:Object(a.jsx)(y,{book:t,onClick:e.props.onSelect})})}));return Object(a.jsx)(B.a,{children:t})}}]),n}(c.a.Component)),N=(n(35),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){return Object(r.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){return this.props.book?Object(a.jsx)("div",{className:"selected-book",children:Object(a.jsx)(C,{book:this.props.book})}):null}}]),n}(c.a.Component)),I=(n(36),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){return Object(r.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){if(!this.props.book)return null;var e=this.props.book,t='"'.concat(e.volumeInfo.title,'",')+" ".concat((e.volumeInfo.authors||[]).join(", "),",")+" ".concat(e.volumeInfo.publisher,",")+" ".concat(e.volumeInfo.publishedDate)+" ".concat(e.volumeInfo.previewLink)+"\n#".concat("\u3088\u3080\u3088\u3080\u4f1a"," ").concat("https://yomuyomukai.tsujio.org"),n="http://twitter.com/share?url=".concat(encodeURIComponent(t));return Object(a.jsx)(j.a,{children:Object(a.jsx)(k.a,{children:Object(a.jsx)(f.a,{className:"tweet-button",variant:"primary",href:n,block:!0,target:"_blank",children:"\u3053\u306e\u672c\u3092\u30c4\u30a4\u30fc\u30c8\u3059\u308b"})})})}}]),n}(c.a.Component)),S=(n(37),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={candidateBooks:[],selectedBook:null},a.handleCandidateBooksUpdate=a.handleCandidateBooksUpdate.bind(Object(d.a)(a)),a.handleBookSelect=a.handleBookSelect.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"handleCandidateBooksUpdate",value:function(e){e?this.setState({candidateBooks:e,selectedBook:null}):this.setState({candidateBooks:[],selectedBook:null})}},{key:"handleBookSelect",value:function(e){this.setState({candidateBooks:[],selectedBook:e})}},{key:"render",value:function(){return Object(a.jsxs)(b.a,{children:[Object(a.jsx)(j.a,{className:"justify-content-center",children:Object(a.jsx)(k.a,{xs:12,md:10,lg:8,children:Object(a.jsx)("div",{className:"header",children:Object(a.jsx)("h1",{children:"\u672c\u3092\u3088\u3080\u3088\u3080\u4f1a"})})})}),Object(a.jsx)(j.a,{className:"justify-content-center",children:Object(a.jsx)(k.a,{xs:12,md:10,lg:8,children:Object(a.jsx)(x,{onCandidateBooksUpdate:this.handleCandidateBooksUpdate})})}),Object(a.jsx)(j.a,{className:"justify-content-center",children:Object(a.jsx)(k.a,{xs:12,md:10,lg:8,children:Object(a.jsx)(g,{candidateBooks:this.state.candidateBooks,onSelect:this.handleBookSelect})})}),Object(a.jsx)(j.a,{className:"justify-content-center",children:Object(a.jsx)(k.a,{xs:12,md:10,lg:8,children:Object(a.jsx)(N,{book:this.state.selectedBook})})}),Object(a.jsx)(j.a,{className:"justify-content-center",children:Object(a.jsx)(k.a,{xs:12,md:8,lg:6,children:Object(a.jsx)(I,{book:this.state.selectedBook})})})]})}}]),n}(c.a.Component));i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(S,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.3d5b2bed.chunk.js.map